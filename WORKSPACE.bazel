workspace(name = "bazel_sundry")

load("@bazel_tools//tools/build_defs/repo:http.bzl", "http_archive")

http_archive(
    name = "com_google_googletest",
    sha256 = "0781ab4b5fe652e9d384f4a0ddf5e31edd288cd309a33dd1fa2cdc9f0ee3567b",
    strip_prefix = "googletest-386c7665f5cf1f772f5877cdb32070d8052041a9",
    url = "https://github.com/google/googletest/archive/386c7665f5cf1f772f5877cdb32070d8052041a9.zip",
)

http_archive(
    name = "hedron_compile_commands",
    sha256 = "5ecbf776e43bbeaf7c124be5a3b609610f932cb8a458e62dc3fadf614251d02d",
    strip_prefix = "bazel-compile-commands-extractor-37f6321fd1430c1f7d07d941339967809086878d",
    url = "https://github.com/hedronvision/bazel-compile-commands-extractor/archive/37f6321fd1430c1f7d07d941339967809086878d.tar.gz",
)

load("@hedron_compile_commands//:workspace_setup.bzl", "hedron_compile_commands_setup")

hedron_compile_commands_setup()

http_archive(
    name = "com_grail_bazel_toolchain",
    sha256 = "d319a1155a3a5079954868d814d316d77b18cd89b8cb3554ad06d64c12b8bef1",
    strip_prefix = "bazel-toolchain-056aeaa01900f5050a9fed9b11e2d365a684831a",
    url = "https://github.com/grailbio/bazel-toolchain/archive/056aeaa01900f5050a9fed9b11e2d365a684831a.zip",
)

load("@com_grail_bazel_toolchain//toolchain:deps.bzl", "bazel_toolchain_dependencies")

bazel_toolchain_dependencies()

load("@com_grail_bazel_toolchain//toolchain:rules.bzl", "llvm_toolchain")

llvm_toolchain(
    name = "llvm_toolchain",
    cxx_standard = {"linux": "c++20"},
    llvm_version = "14.0.0",
)

load("@llvm_toolchain//:toolchains.bzl", "llvm_register_toolchains")

llvm_register_toolchains()
